import{a as w,b as d}from"./chunk-2SN2PGSB.js";import{b as T,c as f,e as x,f as P,g,i as V,l as A,m as C,n as D,o as S,p as E,q as k,r as I,s as _,t as b}from"./chunk-TJ2PARF2.js";import{a as N,c as R}from"./chunk-EWDYQQVI.js";import{a as Y,b as B}from"./chunk-YJL6I6GC.js";import"./chunk-H26QV5GH.js";import"./chunk-LKALUBIE.js";import{Db as h,Nb as l,Sb as y,Ta as a,da as u,fa as M,kc as v,rb as n,xb as s,yb as m,zb as c}from"./chunk-DCKGB75X.js";import"./chunk-N62JWS3I.js";import"./chunk-AXGRCJSR.js";import"./chunk-ZGWZXW6P.js";var W={yAvgTemp:"Avg temp",yMinTemp:"Min temp",yMaxTemp:"Max temp",yPrecipitationMM:"Precipitation mm"},p=function(t){return t.AVG_TEMP="yAvgTemp",t.MIN_TEMP="yMinTemp",t.MAX_TEMP="yMaxTemp",t.PRECIPITATION_MM="yPrecipitationMM",t}(p||{}),Q=(()=>{let r=class r{constructor(){this.weatherService=u(w),this.currentPosition=this.weatherService.currentPosition,this.x=e=>Number(d.default.unix(e.x).format("YYYY")),this.y=[e=>e.yAvgTemp,e=>e.yMinTemp,e=>e.yMaxTemp,e=>e.yPrecipitationMM],this.legendItems=[p.AVG_TEMP,p.MAX_TEMP,p.MIN_TEMP,p.PRECIPITATION_MM].map(e=>({name:W[e]})),this.graphData=[],v(()=>{this.updateData(this.currentPosition())})}updateData(e){this.weatherService.getCountryData(e).then(o=>{this.graphData=[],o[0]?.values.forEach(i=>{this.graphData=[...this.graphData,this.mapDataRecord(i)]})})}mapDataRecord(e){return{x:(0,d.default)(e[1]).unix(),yAvgTemp:e[2],yMinTemp:e[3],yMaxTemp:e[4],yPrecipitationMM:e[5]}}loadAllHistoricData(){this.updateData(this.currentPosition())}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=M({type:r,selectors:[["app-weather-chart"]],standalone:!0,features:[y],decls:14,vars:9,consts:[[1,"custom-vis"],["mat-raised-button","",1,"p-2","m-2",3,"click"],["aria-label","refresh"],[3,"items"],[3,"data"],[3,"x","y"],[3,"x","y","lineWidth"],["type","x","label","Date",3,"numTicks"],["type","y","label","Temperature/Precipitation",3,"numTicks"]],template:function(o,i){o&1&&(s(0,"div",0)(1,"button",1),h("click",function(){return i.loadAllHistoricData()}),s(2,"mat-icon",2),l(3,"refresh"),m(),s(4,"span"),l(5,"Load All historic dataModel"),m()(),c(6,"vis-bullet-legend",3),s(7,"vis-xy-container",4),c(8,"vis-scatter",5)(9,"vis-line",6)(10,"vis-axis",7)(11,"vis-axis",8),m(),s(12,"p"),l(13," Temperature (celsius) / Precipitation (mm) "),m()()),o&2&&(a(6),n("items",i.legendItems),a(),n("data",i.graphData),a(),n("x",i.x)("y",i.y),a(),n("x",i.x)("y",i.y[0])("lineWidth",5),a(),n("numTicks",10),a(),n("numTicks",5))},dependencies:[x,b,V,S,D,C,A,g,P,f,T,E,k,_,I,R,N,B,Y],styles:[".custom-vis[_ngcontent-%COMP%]{--vis-scatter-fill-opacity: .2;--vis-scatter-stroke-width: 1;--vis-scatter-hover-stroke-width: 2;--vis-scatter-point-label-text-color-dark: darkblue}"]});let t=r;return t})();export{p as DataLabelsType,Q as WeatherChartComponent,W as labels};
