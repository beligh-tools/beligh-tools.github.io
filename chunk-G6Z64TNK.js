import{a as C,c as P}from"./chunk-AXGRCJSR.js";import"./chunk-ZGWZXW6P.js";function ft(t,n){var e,f=1;t==null&&(t=0),n==null&&(n=0);function a(){var o,l=e.length,i,c=0,r=0;for(o=0;o<l;++o)i=e[o],c+=i.x,r+=i.y;for(c=(c/l-t)*f,r=(r/l-n)*f,o=0;o<l;++o)i=e[o],i.x-=c,i.y-=r}return a.initialize=function(o){e=o},a.x=function(o){return arguments.length?(t=+o,a):t},a.y=function(o){return arguments.length?(n=+o,a):n},a.strength=function(o){return arguments.length?(f=+o,a):f},a}function R(t){let n=+this._x.call(null,t),e=+this._y.call(null,t);return T(this.cover(n,e),n,e,t)}function T(t,n,e,f){if(isNaN(n)||isNaN(e))return t;var a,o=t._root,l={data:f},i=t._x0,c=t._y0,r=t._x1,p=t._y1,d,x,h,m,s,u,g,v;if(!o)return t._root=l,t;for(;o.length;)if((s=n>=(d=(i+r)/2))?i=d:r=d,(u=e>=(x=(c+p)/2))?c=x:p=x,a=o,!(o=o[g=u<<1|s]))return a[g]=l,t;if(h=+t._x.call(null,o.data),m=+t._y.call(null,o.data),n===h&&e===m)return l.next=o,a?a[g]=l:t._root=l,t;do a=a?a[g]=new Array(4):t._root=new Array(4),(s=n>=(d=(i+r)/2))?i=d:r=d,(u=e>=(x=(c+p)/2))?c=x:p=x;while((g=u<<1|s)===(v=(m>=x)<<1|h>=d));return a[v]=o,a[g]=l,t}function F(t){var n,e,f=t.length,a,o,l=new Array(f),i=new Array(f),c=1/0,r=1/0,p=-1/0,d=-1/0;for(e=0;e<f;++e)isNaN(a=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(l[e]=a,i[e]=o,a<c&&(c=a),a>p&&(p=a),o<r&&(r=o),o>d&&(d=o));if(c>p||r>d)return this;for(this.cover(c,r).cover(p,d),e=0;e<f;++e)T(this,l[e],i[e],t[e]);return this}function L(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,f=this._y0,a=this._x1,o=this._y1;if(isNaN(e))a=(e=Math.floor(t))+1,o=(f=Math.floor(n))+1;else{for(var l=a-e||1,i=this._root,c,r;e>t||t>=a||f>n||n>=o;)switch(r=(n<f)<<1|t<e,c=new Array(4),c[r]=i,i=c,l*=2,r){case 0:a=e+l,o=f+l;break;case 1:e=a-l,o=f+l;break;case 2:a=e+l,f=o-l;break;case 3:e=a-l,f=o-l;break}this._root&&this._root.length&&(this._root=i)}return this._x0=e,this._y0=f,this._x1=a,this._y1=o,this}function G(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function H(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function z(t,n,e,f,a){this.node=t,this.x0=n,this.y0=e,this.x1=f,this.y1=a}function J(t,n,e){var f,a=this._x0,o=this._y0,l,i,c,r,p=this._x1,d=this._y1,x=[],h=this._root,m,s;for(h&&x.push(new z(h,a,o,p,d)),e==null?e=1/0:(a=t-e,o=n-e,p=t+e,d=n+e,e*=e);m=x.pop();)if(!(!(h=m.node)||(l=m.x0)>p||(i=m.y0)>d||(c=m.x1)<a||(r=m.y1)<o))if(h.length){var u=(l+c)/2,g=(i+r)/2;x.push(new z(h[3],u,g,c,r),new z(h[2],l,g,u,r),new z(h[1],u,i,c,g),new z(h[0],l,i,u,g)),(s=(n>=g)<<1|t>=u)&&(m=x[x.length-1],x[x.length-1]=x[x.length-1-s],x[x.length-1-s]=m)}else{var v=t-+this._x.call(null,h.data),_=n-+this._y.call(null,h.data),y=v*v+_*_;if(y<e){var N=Math.sqrt(e=y);a=t-N,o=n-N,p=t+N,d=n+N,f=h.data}}return f}function K(t){if(isNaN(p=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var n,e=this._root,f,a,o,l=this._x0,i=this._y0,c=this._x1,r=this._y1,p,d,x,h,m,s,u,g;if(!e)return this;if(e.length)for(;;){if((m=p>=(x=(l+c)/2))?l=x:c=x,(s=d>=(h=(i+r)/2))?i=h:r=h,n=e,!(e=e[u=s<<1|m]))return this;if(!e.length)break;(n[u+1&3]||n[u+2&3]||n[u+3&3])&&(f=n,g=u)}for(;e.data!==t;)if(a=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,a?(o?a.next=o:delete a.next,this):n?(o?n[u]=o:delete n[u],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(f?f[g]=e:this._root=e),this):(this._root=o,this)}function O(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function U(){return this._root}function V(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function W(t){var n=[],e,f=this._root,a,o,l,i,c;for(f&&n.push(new z(f,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(f=e.node,o=e.x0,l=e.y0,i=e.x1,c=e.y1)&&f.length){var r=(o+i)/2,p=(l+c)/2;(a=f[3])&&n.push(new z(a,r,p,i,c)),(a=f[2])&&n.push(new z(a,o,p,r,c)),(a=f[1])&&n.push(new z(a,r,l,i,p)),(a=f[0])&&n.push(new z(a,o,l,r,p))}return this}function Z(t){var n=[],e=[],f;for(this._root&&n.push(new z(this._root,this._x0,this._y0,this._x1,this._y1));f=n.pop();){var a=f.node;if(a.length){var o,l=f.x0,i=f.y0,c=f.x1,r=f.y1,p=(l+c)/2,d=(i+r)/2;(o=a[0])&&n.push(new z(o,l,i,p,d)),(o=a[1])&&n.push(new z(o,p,i,c,d)),(o=a[2])&&n.push(new z(o,l,d,p,r)),(o=a[3])&&n.push(new z(o,p,d,c,r))}e.push(f)}for(;f=e.pop();)t(f.node,f.x0,f.y0,f.x1,f.y1);return this}function $(t){return t[0]}function q(t){return arguments.length?(this._x=t,this):this._x}function k(t){return t[1]}function tt(t){return arguments.length?(this._y=t,this):this._y}function Y(t,n,e){var f=new B(n??$,e??k,NaN,NaN,NaN,NaN);return t==null?f:f.addAll(t)}function B(t,n,e,f,a,o){this._x=t,this._y=n,this._x0=e,this._y0=f,this._x1=a,this._y1=o,this._root=void 0}function nt(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var I=Y.prototype=B.prototype;I.copy=function(){var t=new B(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,f;if(!n)return t;if(!n.length)return t._root=nt(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var a=0;a<4;++a)(f=n.source[a])&&(f.length?e.push({source:f,target:n.target[a]=new Array(4)}):n.target[a]=nt(f));return t};I.add=R;I.addAll=F;I.cover=L;I.data=G;I.extent=H;I.find=J;I.remove=K;I.removeAll=O;I.root=U;I.size=V;I.visit=W;I.visitAfter=Z;I.x=q;I.y=tt;function w(t){return function(){return t}}function E(t){return(t()-.5)*1e-6}function at(t){return t.x+t.vx}function ut(t){return t.y+t.vy}function lt(t){var n,e,f,a=1,o=1;typeof t!="function"&&(t=w(t==null?1:+t));function l(){for(var r,p=n.length,d,x,h,m,s,u,g=0;g<o;++g)for(d=Y(n,at,ut).visitAfter(i),r=0;r<p;++r)x=n[r],s=e[x.index],u=s*s,h=x.x+x.vx,m=x.y+x.vy,d.visit(v);function v(_,y,N,j,b){var A=_.data,D=_.r,M=s+D;if(A){if(A.index>x.index){var S=h-A.x-A.vx,X=m-A.y-A.vy,Q=S*S+X*X;Q<M*M&&(S===0&&(S=E(f),Q+=S*S),X===0&&(X=E(f),Q+=X*X),Q=(M-(Q=Math.sqrt(Q)))/Q*a,x.vx+=(S*=Q)*(M=(D*=D)/(u+D)),x.vy+=(X*=Q)*M,A.vx-=S*(M=1-M),A.vy-=X*M)}return}return y>h+M||j<h-M||N>m+M||b<m-M}}function i(r){if(r.data)return r.r=e[r.data.index];for(var p=r.r=0;p<4;++p)r[p]&&r[p].r>r.r&&(r.r=r[p].r)}function c(){if(n){var r,p=n.length,d;for(e=new Array(p),r=0;r<p;++r)d=n[r],e[d.index]=+t(d,r,n)}}return l.initialize=function(r,p){n=r,f=p,c()},l.iterations=function(r){return arguments.length?(o=+r,l):o},l.strength=function(r){return arguments.length?(a=+r,l):a},l.radius=function(r){return arguments.length?(t=typeof r=="function"?r:w(+r),c(),l):t},l}function st(t){return t.index}function et(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function ht(t){var n=st,e=d,f,a=w(30),o,l,i,c,r,p=1;t==null&&(t=[]);function d(u){return 1/Math.min(i[u.source.index],i[u.target.index])}function x(u){for(var g=0,v=t.length;g<p;++g)for(var _=0,y,N,j,b,A,D,M;_<v;++_)y=t[_],N=y.source,j=y.target,b=j.x+j.vx-N.x-N.vx||E(r),A=j.y+j.vy-N.y-N.vy||E(r),D=Math.sqrt(b*b+A*A),D=(D-o[_])/D*u*f[_],b*=D,A*=D,j.vx-=b*(M=c[_]),j.vy-=A*M,N.vx+=b*(M=1-M),N.vy+=A*M}function h(){if(l){var u,g=l.length,v=t.length,_=new Map(l.map((N,j)=>[n(N,j,l),N])),y;for(u=0,i=new Array(g);u<v;++u)y=t[u],y.index=u,typeof y.source!="object"&&(y.source=et(_,y.source)),typeof y.target!="object"&&(y.target=et(_,y.target)),i[y.source.index]=(i[y.source.index]||0)+1,i[y.target.index]=(i[y.target.index]||0)+1;for(u=0,c=new Array(v);u<v;++u)y=t[u],c[u]=i[y.source.index]/(i[y.source.index]+i[y.target.index]);f=new Array(v),m(),o=new Array(v),s()}}function m(){if(l)for(var u=0,g=t.length;u<g;++u)f[u]=+e(t[u],u,t)}function s(){if(l)for(var u=0,g=t.length;u<g;++u)o[u]=+a(t[u],u,t)}return x.initialize=function(u,g){l=u,r=g,h()},x.links=function(u){return arguments.length?(t=u,h(),x):t},x.id=function(u){return arguments.length?(n=u,x):n},x.iterations=function(u){return arguments.length?(p=+u,x):p},x.strength=function(u){return arguments.length?(e=typeof u=="function"?u:w(+u),m(),x):e},x.distance=function(u){return arguments.length?(a=typeof u=="function"?u:w(+u),s(),x):a},x}function rt(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function it(t){return t.x}function ot(t){return t.y}var ct=10,gt=Math.PI*(3-Math.sqrt(5));function pt(t){var n,e=1,f=.001,a=1-Math.pow(f,1/300),o=0,l=.6,i=new Map,c=P(d),r=C("tick","end"),p=rt();t==null&&(t=[]);function d(){x(),r.call("tick",n),e<f&&(c.stop(),r.call("end",n))}function x(s){var u,g=t.length,v;s===void 0&&(s=1);for(var _=0;_<s;++_)for(e+=(o-e)*a,i.forEach(function(y){y(e)}),u=0;u<g;++u)v=t[u],v.fx==null?v.x+=v.vx*=l:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=l:(v.y=v.fy,v.vy=0);return n}function h(){for(var s=0,u=t.length,g;s<u;++s){if(g=t[s],g.index=s,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var v=ct*Math.sqrt(.5+s),_=s*gt;g.x=v*Math.cos(_),g.y=v*Math.sin(_)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function m(s){return s.initialize&&s.initialize(t,p),s}return h(),n={tick:x,restart:function(){return c.restart(d),n},stop:function(){return c.stop(),n},nodes:function(s){return arguments.length?(t=s,h(),i.forEach(m),n):t},alpha:function(s){return arguments.length?(e=+s,n):e},alphaMin:function(s){return arguments.length?(f=+s,n):f},alphaDecay:function(s){return arguments.length?(a=+s,n):+a},alphaTarget:function(s){return arguments.length?(o=+s,n):o},velocityDecay:function(s){return arguments.length?(l=1-s,n):1-l},randomSource:function(s){return arguments.length?(p=s,i.forEach(m),n):p},force:function(s,u){return arguments.length>1?(u==null?i.delete(s):i.set(s,m(u)),n):i.get(s)},find:function(s,u,g){var v=0,_=t.length,y,N,j,b,A;for(g==null?g=1/0:g*=g,v=0;v<_;++v)b=t[v],y=s-b.x,N=u-b.y,j=y*y+N*N,j<g&&(A=b,g=j);return A},on:function(s,u){return arguments.length>1?(r.on(s,u),n):r.on(s)}}}function xt(){var t,n,e,f,a=w(-30),o,l=1,i=1/0,c=.81;function r(h){var m,s=t.length,u=Y(t,it,ot).visitAfter(d);for(f=h,m=0;m<s;++m)n=t[m],u.visit(x)}function p(){if(t){var h,m=t.length,s;for(o=new Array(m),h=0;h<m;++h)s=t[h],o[s.index]=+a(s,h,t)}}function d(h){var m=0,s,u,g=0,v,_,y;if(h.length){for(v=_=y=0;y<4;++y)(s=h[y])&&(u=Math.abs(s.value))&&(m+=s.value,g+=u,v+=u*s.x,_+=u*s.y);h.x=v/g,h.y=_/g}else{s=h,s.x=s.data.x,s.y=s.data.y;do m+=o[s.data.index];while(s=s.next)}h.value=m}function x(h,m,s,u){if(!h.value)return!0;var g=h.x-n.x,v=h.y-n.y,_=u-m,y=g*g+v*v;if(_*_/c<y)return y<i&&(g===0&&(g=E(e),y+=g*g),v===0&&(v=E(e),y+=v*v),y<l&&(y=Math.sqrt(l*y)),n.vx+=g*h.value*f/y,n.vy+=v*h.value*f/y),!0;if(h.length||y>=i)return;(h.data!==n||h.next)&&(g===0&&(g=E(e),y+=g*g),v===0&&(v=E(e),y+=v*v),y<l&&(y=Math.sqrt(l*y)));do h.data!==n&&(_=o[h.data.index]*f/y,n.vx+=g*_,n.vy+=v*_);while(h=h.next)}return r.initialize=function(h,m){t=h,e=m,p()},r.strength=function(h){return arguments.length?(a=typeof h=="function"?h:w(+h),p(),r):a},r.distanceMin=function(h){return arguments.length?(l=h*h,r):Math.sqrt(l)},r.distanceMax=function(h){return arguments.length?(i=h*h,r):Math.sqrt(i)},r.theta=function(h){return arguments.length?(c=h*h,r):Math.sqrt(c)},r}function vt(t,n,e){var f,a=w(.1),o,l;typeof t!="function"&&(t=w(+t)),n==null&&(n=0),e==null&&(e=0);function i(r){for(var p=0,d=f.length;p<d;++p){var x=f[p],h=x.x-n||1e-6,m=x.y-e||1e-6,s=Math.sqrt(h*h+m*m),u=(l[p]-s)*o[p]*r/s;x.vx+=h*u,x.vy+=m*u}}function c(){if(f){var r,p=f.length;for(o=new Array(p),l=new Array(p),r=0;r<p;++r)l[r]=+t(f[r],r,f),o[r]=isNaN(l[r])?0:+a(f[r],r,f)}}return i.initialize=function(r){f=r,c()},i.strength=function(r){return arguments.length?(a=typeof r=="function"?r:w(+r),c(),i):a},i.radius=function(r){return arguments.length?(t=typeof r=="function"?r:w(+r),c(),i):t},i.x=function(r){return arguments.length?(n=+r,i):n},i.y=function(r){return arguments.length?(e=+r,i):e},i}function yt(t){var n=w(.1),e,f,a;typeof t!="function"&&(t=w(t==null?0:+t));function o(i){for(var c=0,r=e.length,p;c<r;++c)p=e[c],p.vx+=(a[c]-p.x)*f[c]*i}function l(){if(e){var i,c=e.length;for(f=new Array(c),a=new Array(c),i=0;i<c;++i)f[i]=isNaN(a[i]=+t(e[i],i,e))?0:+n(e[i],i,e)}}return o.initialize=function(i){e=i,l()},o.strength=function(i){return arguments.length?(n=typeof i=="function"?i:w(+i),l(),o):n},o.x=function(i){return arguments.length?(t=typeof i=="function"?i:w(+i),l(),o):t},o}function mt(t){var n=w(.1),e,f,a;typeof t!="function"&&(t=w(t==null?0:+t));function o(i){for(var c=0,r=e.length,p;c<r;++c)p=e[c],p.vy+=(a[c]-p.y)*f[c]*i}function l(){if(e){var i,c=e.length;for(f=new Array(c),a=new Array(c),i=0;i<c;++i)f[i]=isNaN(a[i]=+t(e[i],i,e))?0:+n(e[i],i,e)}}return o.initialize=function(i){e=i,l()},o.strength=function(i){return arguments.length?(n=typeof i=="function"?i:w(+i),l(),o):n},o.y=function(i){return arguments.length?(t=typeof i=="function"?i:w(+i),l(),o):t},o}export{ft as forceCenter,lt as forceCollide,ht as forceLink,xt as forceManyBody,vt as forceRadial,pt as forceSimulation,yt as forceX,mt as forceY};
